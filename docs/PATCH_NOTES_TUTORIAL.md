# 更新公告使用教程

## 📍 文件位置

更新公告的编辑文件位于：
```
src/data/changelog.js
```

这是**唯一需要修改的文件**，所有更新公告内容都在这里管理。

---

## 📝 快速开始

### 步骤 1：打开文件
在项目中找到并打开 `src/data/changelog.js` 文件。

### 步骤 2：添加新版本
在 `CHANGELOG` 数组的**最前面**（第一个位置）添加新的版本对象。

### 步骤 3：保存文件
保存后，新的更新公告就会自动显示在游戏中。

---

## 🎯 数据结构说明

每个版本对象包含以下字段：

```javascript
{
  version: "1.2.0",        // 版本号（字符串，例如："1.2.0"）
  date: "2025-01-15",      // 发布日期（格式：YYYY-MM-DD）
  title: "版本标题",        // 版本标题（简短描述）
  lines: [                 // 更新内容列表（字符串数组）
    "这是第一条更新内容",
    "这是第二条更新内容"
  ]
}
```

---

## ✍️ 详细编辑指南

### 1. 添加新版本

**重要：新版本必须添加在数组的最前面！**

```javascript
export const CHANGELOG = [
  {
    // 👇 新版本放在这里（第一个位置）
    version: "1.2.0",
    date: "2025-01-15",
    title: "新功能更新",
    lines: [
      "新增了排行榜系统",
      "优化了战斗动画效果",
      "修复了一些已知问题"
    ]
  },
  {
    // 旧版本自动排在后面
    version: "1.1.0",
    date: "2025-01-07",
    title: "铁匠与深渊更新",
    lines: [
      // ...
    ]
  }
  // ...
];
```

### 2. 编辑更新内容

在 `lines` 数组中，每个字符串代表一条更新内容。**内容会直接以文本形式显示**，支持：

- ✅ 纯文本内容
- ✅ 换行（使用 `\n`）
- ✅ 特殊字符和标点
- ✅ 中文和英文

**示例：**

```javascript
lines: [
  "新增了角色自定义系统",
  "调整了游戏难度，让新手更容易上手",
  "修复了存档丢失的bug",
  "优化了UI界面，提升用户体验",
  "新增多个隐藏关卡等你探索！"
]
```

### 3. 编辑现有版本

直接修改对应版本对象的内容即可：

```javascript
{
  version: "1.1.0",
  date: "2025-01-07",
  title: "修改后的标题",  // 👈 修改标题
  lines: [
    "修改后的内容1",      // 👈 修改或添加内容
    "修改后的内容2"
  ]
}
```

### 4. 删除版本

如果想隐藏某个版本，直接删除整个版本对象即可。

---

## 📋 完整示例

### 示例 1：添加新版本

```javascript
export const CHANGELOG = [
  // 新版本 - 放在最前面
  {
    version: "2.0.0",
    date: "2025-02-01",
    title: "重大更新 - 全新玩法",
    lines: [
      "全新的PVP竞技场系统上线！",
      "新增50种新装备，等你收集",
      "重构了游戏引擎，运行更流畅",
      "新增好友系统，可以一起组队了",
      "优化了所有角色的技能特效"
    ]
  },
  
  // 之前的版本会自动排在后面
  {
    version: "1.1.0",
    date: "2025-01-07",
    title: "铁匠与深渊更新",
    lines: [
      "新增铁匠铺系统，现在可以强化和重铸装备了",
      "赌徒 NPC 登场，准备好你的金币了吗？",
      "降低了 1-5 层怪物的攻击力",
      "修复了部分音效在快速点击时丢失的问题"
    ]
  }
];
```

### 示例 2：内容格式化

```javascript
{
  version: "1.3.0",
  date: "2025-01-20",
  title: "春节特别更新",
  lines: [
    "🎉 春节活动限时开启！",
    "新角色：龙年守护者上线",
    "新增春节限定皮肤和道具",
    "优化了游戏性能，减少卡顿",
    "修复了已知的5个bug"
  ]
}
```

---

## ⚠️ 注意事项

### 1. 版本顺序
- ✅ **新版本必须放在数组最前面**
- ✅ 数组顺序 = 显示顺序（最新的在最上面）
- ❌ 不要打乱版本顺序

### 2. 版本号格式
- ✅ 推荐使用语义化版本号：`主版本.次版本.修订版`（如：`1.2.0`）
- ✅ 也可以使用自定义格式：`v1.2.0`、`1.2.0-beta` 等
- ⚠️ 版本号会在显示时自动添加 `v` 前缀

### 3. 日期格式
- ✅ 必须使用 `YYYY-MM-DD` 格式（如：`2025-01-15`）
- ❌ 不要使用其他格式（如：`2025/01/15`、`01-15-2025`）

### 4. 内容格式
- ✅ 每条内容会单独显示在一行
- ✅ 支持直接输入文本，无需特殊格式
- ✅ 可以包含任何字符（中英文、数字、标点、emoji等）
- ⚠️ 注意：不要在内容中包含代码符号（如 `{}`、`[]`）除非你真的想显示它们

### 5. 语法要求
- ⚠️ 注意 JavaScript 语法正确性
- ⚠️ 字符串必须用引号包裹（单引号或双引号）
- ⚠️ 每行内容后记得加逗号（最后一条除外）
- ⚠️ 对象和数组的括号要匹配

---

## 🔍 常见问题

### Q1: 如何让新版本显示"最新"标签？
**A:** 放在数组第一位的版本会自动标记为"最新"，无需额外设置。

### Q2: 可以添加多少条更新内容？
**A:** 没有限制，但建议每条内容简洁明了，一般每个版本 3-10 条比较合适。

### Q3: 如何修改旧版本的内容？
**A:** 直接在数组中找到对应的版本对象，修改 `title` 或 `lines` 即可。

### Q4: 版本号可以重复吗？
**A:** 技术上可以，但**强烈建议使用唯一版本号**，避免混淆。

### Q5: 保存后没有显示新内容？
**A:** 检查以下几点：
- 新版本是否放在数组第一位？
- JavaScript 语法是否正确（括号、引号、逗号）？
- 文件是否已保存？
- 浏览器是否刷新了页面？

### Q6: 如何测试更新公告？
**A:** 
1. 修改 `changelog.js` 文件
2. 保存文件
3. 刷新浏览器页面
4. 点击游戏主菜单右上角的公告按钮查看

---

## 🎨 内容建议

### 推荐的更新内容类型：
- 🆕 **新功能**：新增的系统、角色、装备等
- 🔧 **调整优化**：平衡性调整、性能优化等
- 🐛 **问题修复**：bug 修复、问题解决
- 🎁 **活动公告**：限时活动、奖励信息
- 📢 **重要通知**：重要消息、注意事项

### 内容撰写技巧：
- ✨ 使用简洁明了的语言
- ✨ 突出重要内容
- ✨ 保持一致的格式
- ✨ 适当使用emoji增加趣味性

---

## 📚 完整模板

复制以下模板，修改相应内容即可：

```javascript
export const CHANGELOG = [
  {
    version: "X.X.X",              // 👈 修改版本号
    date: "YYYY-MM-DD",            // 👈 修改日期
    title: "版本标题",              // 👈 修改标题
    lines: [
      "第一条更新内容",            // 👈 添加你的内容
      "第二条更新内容",
      "第三条更新内容"
      // 可以继续添加更多内容
    ]
  }
  // ... 其他历史版本
];
```

---

## 💡 提示

1. **定期更新**：保持更新公告的时效性，让玩家了解最新动态
2. **内容真实**：确保更新内容与实际改动一致
3. **易于理解**：使用简单明了的语言，避免过于技术性的描述
4. **版本记录**：保留历史版本，方便玩家回顾更新历史

---

**祝你使用愉快！如有问题，请查看代码注释或询问开发者。** 🎮

