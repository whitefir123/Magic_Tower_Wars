我将修改 `src/utils/TooltipManager.js` 来解决您提出的四个新问题。

### 修改计划

1. **修复百分比加成间的 "+" 号 (Fix 1)**

   * **问题**: 百分比属性的 breakdown (加成部分) 之前没有显示 "+" 号，例如 `(基础: 10% 5%)`。

   * **修改**: 在格式化百分比加成值 (`bonusDisplay`) 时，强制添加 `+` 前缀 (如果是正数)。

   * **目标效果**: `(基础: 10% +5%)`。

2. **修复前缀基础值加成未显示的问题 (Fix 2)**

   * **问题**: 用户反馈前缀的基础值加成没有显示。虽然代码逻辑上是统一处理词缀的，但可能存在前缀属性未被正确识别或计算的情况。

   * **修改**: 仔细检查 `totalAffixStats` 的计算逻辑。为了确保万无一失，我将把 `affixBonus` 的计算逻辑从 "stats - affix" 改为更稳健的显示逻辑：

     * 实际上，之前的逻辑 `affixBonus = totalAffixStats[k]` 是正确的。

     * 问题可能出在：如果 `totalAffixStats[k]` 只有前缀提供，且数值较小，或者某种原因导致 `Math.abs(affixBonus) > 0.001` 判断失败？

     * 或者，用户看到的 "没有显示" 是指没有 breakdown？如果 `affixBonus` 正确计算，breakdown 一定会显示。

     * **深度排查**: 怀疑是 `item.meta.affixes` 数据结构中，前缀的 `stats` 可能为空，或者属性名与主属性名不匹配。

     * 但既然无法直接调试数据，我将**移除所有可能导致跳过计算的条件**，并增加防御性代码，确保所有类型的词缀 stats 都被累加。

3. **修复后缀"熊之"生命值百分比未显示问题 (Fix 3)**

   * **问题**: `maxHp_percent` 属性没有显示，或者显示不全。

   * **原因**:

     * 可能是 `maxHp_percent` 没有被正确映射到 `生命值`，导致显示异常。

     * 或者是因为 CSS 高度限制导致被截断（虽然已查明 CSS 有 `overflow-y: auto`，但如果鼠标在 tooltip 上，滚轮事件可能被拦截或无法触发）。

   * **修改**:

     * 确保 `maxHp_percent` 能正确映射为 `生命值%`（利用已有的动态映射逻辑）。

     * **关键修改**: 针对用户提到的 "无法滑动滚轮" 问题，虽然 CSS 已经有 `overflow-y: auto`，但在游戏中，鼠标通常跟随 Tooltip 移动，导致很难把鼠标移到 Tooltip 上去滚动。我将尝试实现**在鼠标悬停在装备上时，浮现提示框时玩家也能通过鼠标滑轮进行提示框的滑动（如果有超出素材框内容的话），并且隐藏滚动条**。如果无法实现，则让提示框的素材随着文本的内容进行拉伸，虽然似乎设置是auto，但有可能设置了最大高度导致提示框无法进一步拉伸。

4. **删除百分比属性名中的 "%" (Fix 4)**

   * **问题**: 显示为 `生命值% 10%`，重复了。

   * **修改**: 修改动态属性名生成逻辑。如果属性名是 `_percent` 结尾，且对应的中文名本身没有 `%`，**不要**在中文名后自动加 `%`。因为数值部分已经带了 `%`。

   * **目标效果**: `生命值 +10%` (而不是 `生命值% +10%`)。

### 综合验证

* 创建一个包含前缀（加攻击）、后缀（加百分比攻击、加百分比生命）的虚拟物品，验证上述所有修复点。

* 确认 breakdown 显示为 `(基础: X +Y)` 且有加号。

* 确认 `生命值 +10%` 格式正确。

