我将通过以下步骤对地精商店页面进行重构，以实现您的视觉和交互需求：

### 1. 结构与布局重构
*   **背景图集成**：将 `.shop-panel` 的背景设置为您提供的素材 URL (`https://i.postimg.cc/DzLSLrfr/dijingshangdian1.png`)，并调整容器比例以适应背景。
*   **分区布局**：
    *   创建 **左货架区** (`#shop-left-shelf`)：用于放置基础服务（攻击、防御、生命、钥匙）。
    *   创建 **右货架区** (`#shop-right-shelf`)：用于放置 6 个随机刷新商品。
    *   创建 **柜台操作区** (`#shop-counter-surface`)：定位在背景图柜台表面，放置“刷新”和“离开”按钮。
*   **网格系统**：使用 CSS Grid 布局精确控制货架上的商品位置，限制在第 1-4 行，确保商品正好位于格子上。

### 2. 商品渲染与样式升级
*   **图标绘制**：
    *   废弃原本的 Emoji/文字显示。
    *   复用 `InventoryUI` 的 Canvas 绘图逻辑，读取游戏内的 `ICONS_EQUIP`, `ICONS_CONSUMABLES`, `ICONS_GEMS` 图片资源。
    *   根据 `iconIndex` 精确绘制商品图标。
*   **基础服务图标**：
    *   暂时使用现有素材库中的图标作为占位（例如：攻击用剑图标，生命用药水图标）。
    *   为没有素材的“钥匙”等服务预留位置和代码接口。
*   **视觉样式**：
    *   去除商品卡片的边框和背景色，使其自然融入货架。
    *   商品价格显示在图标正下方，使用暗金色 (`#C5A059`) 字体。

### 3. 交互增强
*   **Tooltip 集成**：
    *   引入 `globalTooltipManager`。
    *   为所有商品（包括基础服务）绑定鼠标悬停事件，显示与背包一致的详细信息提示框。
    *   为基础服务构造标准化的数据对象，以便 Tooltip 正确解析。

### 4. 素材生成提示词（Prompt）
我将为您整理一份针对缺失素材（如生命值、攻击力服务图标）的 AI 生成提示词，以便您后续生成并替换。

### 5. 文件修改范围
*   `src/ui/ShopUI.js`: 重写渲染逻辑、引入 TooltipManager。
*   `src/css/modules/shop.css`: 添加背景图样式、Grid 布局样式、商品样式覆盖。

请确认是否开始执行此计划？